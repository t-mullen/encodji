var lz = require('lz-string')

var emoji = ['ğŸ˜„', 'ğŸ˜†', 'ğŸ˜Š', 'ğŸ˜ƒ', 'â˜ºï¸', 'ğŸ˜', 'ğŸ˜', 'ğŸ˜˜', 'ğŸ˜³', 'ğŸ˜Œ', 'ğŸ˜', 'ğŸ˜‰', 'ğŸ‘…', 'ğŸ˜’', 'ğŸ˜…', 'ğŸ˜“', 'ğŸ˜©', 'ğŸ˜”', 'ğŸ˜', 'ğŸ˜–', 'ğŸ˜¨', 'ğŸ˜°', 'ğŸ˜£', 'ğŸ˜¢', 'ğŸ˜­', 'ğŸ˜‚', 'ğŸ˜²', 'ğŸ˜±', 'ğŸ˜«', 'ğŸ˜ ', 'ğŸ˜¡', 'ğŸ˜¤', 'ğŸ˜ª', 'ğŸ˜‹', 'ğŸ˜·', 'ğŸ˜', 'ğŸ˜µ', 'ğŸ‘¿', 'ğŸ˜ˆ', 'ğŸ˜', 'ğŸ˜¶', 'ğŸ˜‡', 'ğŸ‘½', 'ğŸ’›', 'ğŸ’™', 'ğŸ’œ', 'â¤ï¸', 'ğŸ’š', 'ğŸ’”', 'ğŸ’“', 'ğŸ’—', 'ğŸ’•', 'ğŸ’', 'ğŸ’˜', 'â­ï¸', 'ğŸŒŸ', 'ğŸ’«', 'ğŸ’¥', 'ğŸ’¢', 'â—ï¸', 'ğŸ’¤', 'ğŸ’¨', 'ğŸ’¦', 'ğŸ¶', 'ğŸµ', 'ğŸ”¥', 'ğŸ‘', 'ğŸ‘', 'ğŸ‘Œ', 'ğŸ‘Š', 'âœŒï¸', 'ğŸ‘‹', 'ğŸ‘', 'â˜ï¸', 'ğŸ‘‡', 'ğŸ‘ˆ', 'ğŸ‘‰', 'ğŸ™Œ', 'ğŸ™', 'ğŸ‘†', 'ğŸ‘', 'ğŸ’ª', 'ğŸ¤˜', 'ğŸš¶', 'ğŸƒ', 'ğŸ‘«', 'ğŸ‘ª', 'ğŸ‘¬', 'ğŸ‘­', 'ğŸ’ƒ', 'ğŸ‘¯', 'ğŸ™†', 'ğŸ™…', 'ğŸ’', 'ğŸ‘°', 'ğŸ™', 'ğŸ™', 'ğŸ™‡', 'ğŸ’‘', 'ğŸ’†', 'ğŸ’‡', 'ğŸ’…', 'ğŸ‘¦', 'ğŸ‘§', 'ğŸ‘©', 'ğŸ‘¨', 'ğŸ‘¶', 'ğŸ‘µ', 'ğŸ‘´', 'ğŸ‘±', 'ğŸ‘²', 'ğŸ‘³', 'ğŸ‘·', 'ğŸ‘®', 'ğŸ‘¼', 'ğŸ‘¸', 'ğŸ˜º', 'ğŸ˜¸', 'ğŸ˜»', 'ğŸ˜½', 'ğŸ˜¼', 'ğŸ™€', 'ğŸ˜¿', 'ğŸ˜¹', 'ğŸ˜¾', 'ğŸ‘¹', 'ğŸ‘º', 'ğŸ™ˆ', 'ğŸ™‰', 'ğŸ™Š', 'ğŸ’‚', 'ğŸ’€', 'ğŸ¾', 'ğŸ‘„', 'ğŸ’‹', 'ğŸ’§', 'ğŸ‘‚', 'ğŸ‘€', 'ğŸ‘ƒ', 'ğŸ’Œ', 'ğŸ‘¤', 'ğŸ‘¥', 'ğŸ’¬', 'ğŸ’­', 'â˜€ï¸', 'â˜”ï¸', 'â˜ï¸', 'â„ï¸', 'â›„ï¸', 'âš¡ï¸', 'ğŸŒ€', 'ğŸŒ', 'ğŸŒŠ', 'ğŸ±', 'ğŸ¶', 'ğŸ­', 'ğŸ¹', 'ğŸ°', 'ğŸº', 'ğŸ¸', 'ğŸ¯', 'ğŸ¨', 'ğŸ»', 'ğŸ·', 'ğŸ½', 'ğŸ®', 'ğŸ—', 'ğŸµ', 'ğŸ’', 'ğŸ´', 'ğŸ', 'ğŸ«', 'ğŸ‘', 'ğŸ˜', 'ğŸ¼', 'ğŸ', 'ğŸ¦', 'ğŸ¤', 'ğŸ¥', 'ğŸ£', 'ğŸ”', 'ğŸ§', 'ğŸ¢', 'ğŸ›', 'ğŸ', 'ğŸœ', 'ğŸ', 'ğŸŒ', 'ğŸ™', 'ğŸ ', 'ğŸŸ', 'ğŸ³', 'ğŸ‹', 'ğŸ¬', 'ğŸ„', 'ğŸ', 'ğŸ€', 'ğŸƒ', 'ğŸ…', 'ğŸ‡', 'ğŸ‰', 'ğŸ', 'ğŸ“', 'ğŸ•', 'ğŸ–', 'ğŸ', 'ğŸ‚', 'ğŸ²', 'ğŸ¡', 'ğŸŠ', 'ğŸª', 'ğŸ†', 'ğŸˆ', 'ğŸ©', 'ğŸ’', 'ğŸŒ¸', 'ğŸŒ·', 'ğŸ€', 'ğŸŒ¹', 'ğŸŒ»', 'ğŸŒº', 'ğŸ', 'ğŸƒ', 'ğŸ‚', 'ğŸŒ¿', 'ğŸ„', 'ğŸŒµ', 'ğŸŒ´', 'ğŸŒ²', 'ğŸŒ³', 'ğŸŒ°', 'ğŸŒ±', 'ğŸŒ¼', 'ğŸŒ¾', 'ğŸš', 'ğŸŒ', 'ğŸŒ', 'ğŸŒ', 'ğŸŒš', 'ğŸŒ‘', 'ğŸŒ’', 'ğŸŒ“', 'ğŸŒ”', 'ğŸŒ•', 'ğŸŒ–', 'ğŸŒ—', 'ğŸŒ˜', 'ğŸŒœ', 'ğŸŒ›', 'ğŸŒ', 'ğŸŒ', 'ğŸŒ', 'ğŸŒ‹', 'ğŸŒŒ', 'â›…ï¸', 'ğŸ']

var Encodji = {}

Encodji.encode = function (obj) {
  var base64 = lz.compressToBase64(JSON.stringify(obj))
  return base64.split('').map(function (a) {
    return emoji[a.charCodeAt(0)]
  }).join('')
}

Encodji.decode = function (str) {
  var arr = str.split('')
  var base64 = arr.map(function (a, index) {
    if (index % 2) {
      return ''
    } else {
      return String.fromCharCode(emoji.indexOf(arr[index] + arr[index + 1]))
    }
  }).join('')

  return JSON.parse(lz.decompressFromBase64(base64))
}

module.exports = Encodji
